package third_party.samba_new

@Build(stage=2, script="$(EXTERNAL_MAKE)")
@BuildDepends(third_party.zlib.libs)
module core {
	@AddPrefix("^BUILD/extbld/^MOD_PATH/install")
	source
		"libsmbclient.a",
		"libtevent.a",
		"libtalloc.a",
		"libtdb.a",
		"libwbclient.a"


	depends embox.compat.posix.idx.poll
	depends embox.net.lib.getifaddrs

	depends third_party.zlib.libs
}

@Build(stage=2,script="true")
@BuildDepends(core)
@Cmd(name = "smbclient",
	help = "smbclient shell",
	man = '''
		NAME
			smbclient - ftp-like client to access SMB/CIFS resources on servers
		SYNOPSIS
			smbclient --help for options
		AUTHORS
			fsulima - Adaptation for Embox
	''')
module smbclient {
	depends core

	@Rule(script="true")
	source "../../../../samba/src/samba/source3/bin/smbclient.embox.o"
	source "shell_cmd.c"
}
