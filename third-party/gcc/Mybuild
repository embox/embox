package third_party.gcc

@Build(script="$(MAKE) -C $(THIRDPARTY_DIR)/gcc MAKEFLAGS= EMBOX_ARCH='$(ARCH)' EMBOX_CROSS_COMPILE='$(CROSS_COMPILE)' EMBOX_MAKEFLAGS='$(MAKEFLAGS)' ROOT_DIR=$(abspath $(ROOT_DIR)) EMBOX_CFLAGS='$(CFLAGS)' EMBOX_CXXFLAGS='$(CXXFLAGS)' EMBOX_CPPFLAGS='$(EMBOX_EXPORT_CPPFLAGS)'")
static module core extends embox.lib.LibGcc {
	@AddPrefix("../../../../gcc/lib")
	@Rule(script="true")
	source "libgcc.a", "libsupc++.a"
	source "order.mk" // FIXME
	source "empty.c"

	@NoRuntime depends embox.lib.cxx.libsupcxx
	// Causes cyclic dependency: depends embox.lib.LibC
}
