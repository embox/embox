package embox.fs.driver

module jffs2 {
	source "dir.c", "erase.c", "gc.c", "scan.c", "jffs2.c"

	@IncludePath("$(EXTERNAL_BUILD_DIR)/third_party/zlib/libs/zlib-1.2.8")
	source "read.c", "readinode.c", "nodelist.c", "write.c", "malloc_jffs2.c", "nodemgmt.c", "flashio.c",
		"build.c", "compr_rtime.c", "compr_rubin.c", "compr_zlib.c", "compr.c", "debug.c"

	option number inode_quantity=64
	option number jffs2_descriptor_quantity=4

	depends embox.fs.node, embox.fs.driver.repo
	depends embox.fs.driver.fat
	depends embox.driver.block
	depends embox.mem.page_api
	depends embox.mem.pool
	depends embox.driver.flash
	depends third_party.zlib.libs
	depends third_party.lib.util.rbtree
	depends embox.driver.flash_emu
}
